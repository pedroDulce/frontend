<div class="chat-widget" [class.collapsed]="isCollapsed">
  <div class="chat-header" (click)="toggleChat()">
    <h3>ğŸ’¬ QA Assistant</h3>
    <button class="toggle-btn" (click)="toggleChat(); $event.stopPropagation()">
      {{ isCollapsed ? 'â†‘' : 'â†“' }}
    </button>
  </div>

  <div class="chat-content" *ngIf="!isCollapsed">
    <div class="messages-container">
      <div *ngFor="let msg of messages" class="message" [class.user-message]="msg.type === 'user'">
        <div class="message-text">{{ msg.text }}</div>
        
        <!-- Sugerencias -->
        <div *ngIf="msg.suggestions && msg.type === 'assistant'" class="suggestions">
          <button *ngFor="let suggestion of msg.suggestions" 
                  class="suggestion-btn"
                  (click)="useSuggestion(suggestion)">
            {{ suggestion }}
          </button>
        </div>
      </div>
    </div>

    <div class="input-section">
      <div class="input-container">
        <input [(ngModel)]="userInput" 
               (keyup.enter)="sendMessage()"
               placeholder="Escribe tu pregunta sobre QA...">
        <button (click)="sendMessage()">â¤</button>
      </div>
      
      <div class="action-buttons">
        <button class="action-btn" (click)="clearChat()">ğŸ—‘ï¸ Limpiar</button>
      </div>
    </div>
  </div>
</div>